<div class="legal__text-center legal-intro">
    <h1>{{ page.title }}</h1>
    {{ render_pageparts(page, 'legal_header') }}
</div>

<div class="legal-main-wrapper">
    <div class="legal__aside">
        {% set tocContent = "" %}
        {% if page is defined %}
            {% for pagepart in getpageparts(page, 'legal_main') %}
                {% if 'HeaderPagePart' in pagepart.getDefaultView %}
                    {% if pagepart.niv is defined and pagepart.niv == 2 %}
                        {% set tocContent = tocContent ~ '<li><a href=\"#' ~ pagepart.getTitle|slugify ~ '\">' ~ pagepart.getTitle ~ '</a></li>' %}
                    {% endif %}
                {% endif %}
            {% endfor %}

            {% if tocContent %}
                <ul class="legal__aside__navigation js-legal__aside__navigation">
                    {{ tocContent|raw }}
                </ul>
            {% endif %}
        {% endif %}
    </div>

    <div class="legal__main">
        {% include '<%= bundle.name %>:Pages:LegalPage/_main.html.twig' %}
    </div>
</div>
